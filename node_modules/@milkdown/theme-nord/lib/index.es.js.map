{"version":3,"file":"index.es.js","sources":["../src/font.ts","../src/icon.ts","../src/nord.ts","../src/style.ts","../src/index.ts"],"sourcesContent":["/* Copyright 2021, Milkdown by Mirone. */\nexport const typography = [\n  'Roboto',\n  'HelveticaNeue-Light',\n  'Helvetica Neue Light',\n  'Helvetica Neue',\n  'Helvetica',\n  'Arial',\n  'Lucida Grande',\n  'sans-serif',\n]\n\nexport const code = ['Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', 'monospace']\n","/* Copyright 2021, Milkdown by Mirone. */\n\nimport type { Icon, IconValue } from '@milkdown/design-system'\n\ninterface IconMeta {\n  icon: string\n  label: string\n}\n\nconst iconMapping: Record<Icon, IconMeta> = {\n  h1: {\n    label: 'h1',\n    icon: 'looks_one',\n  },\n  h2: {\n    label: 'h2',\n    icon: 'looks_two',\n  },\n  h3: {\n    label: 'h3',\n    icon: 'looks_3',\n  },\n  loading: {\n    label: 'loading',\n    icon: 'hourglass_empty',\n  },\n  quote: {\n    label: 'quote',\n    icon: 'format_quote',\n  },\n  code: {\n    label: 'code',\n    icon: 'code',\n  },\n  table: {\n    label: 'table',\n    icon: 'table_chart',\n  },\n  divider: {\n    label: 'divider',\n    icon: 'horizontal_rule',\n  },\n  image: {\n    label: 'image',\n    icon: 'image',\n  },\n  brokenImage: {\n    label: 'broken image',\n    icon: 'broken_image',\n  },\n  bulletList: {\n    label: 'bullet list',\n    icon: 'format_list_bulleted',\n  },\n  orderedList: {\n    label: 'ordered list',\n    icon: 'format_list_numbered',\n  },\n  taskList: {\n    label: 'task list',\n    icon: 'checklist',\n  },\n  bold: {\n    label: 'bold',\n    icon: 'format_bold',\n  },\n  italic: {\n    label: 'italic',\n    icon: 'format_italic',\n  },\n  inlineCode: {\n    label: 'inline code',\n    icon: 'code',\n  },\n  strikeThrough: {\n    label: 'strike through',\n    icon: 'strikethrough_s',\n  },\n  link: {\n    label: 'link',\n    icon: 'link',\n  },\n  leftArrow: {\n    label: 'left arrow',\n    icon: 'chevron_left',\n  },\n  rightArrow: {\n    label: 'right arrow',\n    icon: 'chevron_right',\n  },\n  upArrow: {\n    label: 'up arrow',\n    icon: 'expand_less',\n  },\n  downArrow: {\n    label: 'down arrow',\n    icon: 'expand_more',\n  },\n  alignLeft: {\n    label: 'align left',\n    icon: 'format_align_left',\n  },\n  alignRight: {\n    label: 'align right',\n    icon: 'format_align_right',\n  },\n  alignCenter: {\n    label: 'align center',\n    icon: 'format_align_center',\n  },\n  delete: {\n    label: 'delete',\n    icon: 'delete',\n  },\n  select: {\n    label: 'select',\n    icon: 'select_all',\n  },\n  unchecked: {\n    label: 'unchecked',\n    icon: 'check_box_outline_blank',\n  },\n  checked: {\n    label: 'checked',\n    icon: 'check_box',\n  },\n  undo: {\n    label: 'undo',\n    icon: 'turn_left',\n  },\n  redo: {\n    label: 'redo',\n    icon: 'turn_right',\n  },\n  liftList: {\n    label: 'lift list',\n    icon: 'format_indent_decrease',\n  },\n  sinkList: {\n    label: 'sink list',\n    icon: 'format_indent_increase',\n  },\n  dragHandle: {\n    label: 'drag handle',\n    icon: 'drag_indicator',\n  },\n  text: {\n    label: 'text',\n    icon: 'title',\n  },\n}\n\nexport const getIcon = (id: Icon): IconValue | undefined => {\n  const target = iconMapping[id]\n  if (!target)\n    return\n\n  const span = document.createElement('span')\n  span.className = 'icon material-icons material-icons-outlined'\n  const icon = iconMapping[id]\n  if (icon) {\n    span.textContent = icon.icon\n    span.dataset.label = icon.label\n  }\n  else {\n    console.warn(`Icon not found: \"${id}\", did you forget to add it to the icon mapping?`)\n  }\n\n  return {\n    dom: span,\n    label: target.label,\n  }\n}\n","/* Copyright 2021, Milkdown by Mirone. */\nimport type { Color } from '@milkdown/design-system'\n\n/* Copyright 2021, Milkdown by Mirone. */\nexport const Nord = {\n  nord0: '#2e3440',\n  nord1: '#3b4252',\n  nord2: '#434c5e',\n  nord3: '#4c566a',\n  nord4: '#d8dee9',\n  nord5: '#e5e9f0',\n  nord6: '#eceff4',\n  nord7: '#8fbcbb',\n  nord8: '#88c0d0',\n  nord9: '#81a1c1',\n  nord10: '#5e81ac',\n  nord11: '#bf616a',\n  nord12: '#d08770',\n  nord13: '#ebcb8b',\n  nord14: '#a3be8c',\n  nord15: '#b48ead',\n}\n\nexport const lightColor: Record<Color, string> = {\n  shadow: Nord.nord1,\n  primary: Nord.nord10,\n  secondary: Nord.nord9,\n  neutral: Nord.nord0,\n  solid: Nord.nord3,\n  line: Nord.nord4,\n  background: Nord.nord6,\n  surface: '#fff',\n}\n\nexport const darkColor: Record<Color, string> = {\n  shadow: Nord.nord1,\n  primary: Nord.nord10,\n  secondary: Nord.nord9,\n  neutral: Nord.nord6,\n  solid: Nord.nord4,\n  line: Nord.nord2,\n  background: '#252932',\n  surface: Nord.nord0,\n}\n\nexport const color = {\n  lightColor,\n  darkColor,\n} as const\n","/* Copyright 2021, Milkdown by Mirone. */\n\nimport type { Emotion, ThemeManager } from '@milkdown/core'\nimport { ThemeBorder, ThemeFont, ThemeScrollbar, ThemeShadow, ThemeSize } from '@milkdown/core'\nimport { getPalette } from '@milkdown/design-system'\nimport { injectProsemirrorView } from '@milkdown/theme-pack-helper'\n\nexport const getStyle = (manager: ThemeManager, emotion: Emotion) => {\n  const { injectGlobal, css } = emotion\n  const palette = getPalette(manager)\n  const radius = manager.get(ThemeSize, 'radius')\n  const neutral = palette('neutral', 0.87)\n  const surface = palette('surface')\n  const line = palette('line')\n  const highlight = palette('secondary', 0.38)\n\n  const selection = css`\n        .ProseMirror-selectednode {\n            outline: ${manager.get(ThemeSize, 'lineWidth')} solid ${line};\n        }\n\n        li.ProseMirror-selectednode {\n            outline: none;\n        }\n\n        li.ProseMirror-selectednode::after {\n            ${manager.get(ThemeBorder, undefined)};\n        }\n\n        & ::selection {\n            background: ${highlight};\n        }\n    `\n\n  const editorLayout = css`\n        padding: 50px 20px;\n        outline: none;\n        & > * {\n            margin: 30px 0;\n        }\n    `\n\n  const paragraph = css`\n        p {\n            font-size: 16px;\n            line-height: 1.5;\n            letter-spacing: 0.5px;\n        }\n    `\n\n  const blockquote = css`\n        blockquote {\n            padding-left: 30px;\n            line-height: 28px;\n            border-left: 4px solid ${palette('primary')};\n            margin-left: 0;\n            margin-right: 0;\n            * {\n                font-size: 16px;\n                line-height: 24px;\n            }\n        }\n    `\n\n  const heading = css`\n        h1 {\n            font-size: 48px;\n            line-height: 1.167;\n        }\n        h2 {\n            font-size: 40px;\n            line-height: 1.2;\n        }\n        h3 {\n            font-size: 34px;\n            line-height: 1.05;\n        }\n        h4 {\n            font-size: 28px;\n            line-height: 1.14;\n        }\n        h5 {\n            font-size: 24px;\n            line-height: 1;\n        }\n        h6 {\n            font-size: 20px;\n            line-height: 1;\n        }\n        .heading {\n            margin: 40px 0;\n            font-weight: 400;\n        }\n    `\n\n  const hr = css`\n        hr {\n            height: ${manager.get(ThemeSize, 'lineWidth')};\n            background-color: ${line};\n            border-width: 0;\n        }\n    `\n\n  const list = css`\n        ul,\n        ol {\n            padding: 0;\n        }\n\n        .list-item,\n        .task-list-item {\n            margin-top: 8px;\n        }\n\n        .list-item_label,\n        .list-item .paragraph {\n            margin: 0;\n        }\n\n        .list-item {\n            display: flex;\n\n            &_body {\n                flex: 1;\n            }\n        }\n\n        .list-item_label {\n            display: flex;\n            justify-content: center;\n            width: 24px;\n            height: 24px;\n            font-size: 16px;\n            line-height: 1.5;\n            color: ${palette('primary')};\n        }\n\n        .list-item[data-list-type='bullet'] {\n            & > .list-item_label {\n                font-size: 24px;\n                line-height: 1;\n            }\n        }\n\n        li {\n            &::marker {\n                display: none;\n            }\n        }\n\n        .task-list-item {\n            display: flex;\n            flex-direction: row;\n            align-items: flex-start;\n            &_checkbox {\n                margin: 8px 8px 8px 0;\n                height: 16px;\n            }\n            & .paragraph {\n                margin: 0;\n            }\n        }\n    `\n\n  const code = css`\n        .code-fence {\n            pre {\n                font-family: ${manager.get(ThemeFont, 'code')};\n                margin: 0 18px;\n                ${manager.get(ThemeScrollbar, ['x'])}\n\n                background-color: ${palette('background')};\n                color: ${palette('neutral')};\n                font-size: 14px;\n                border-radius: ${radius};\n\n                code {\n                    line-height: 1.5;\n                    font-family: ${manager.get(ThemeFont, 'code')};\n                }\n            }\n        }\n    `\n\n  const img = css`\n        .image {\n            display: inline-block;\n            margin: 0 auto;\n            object-fit: contain;\n            width: 100%;\n            position: relative;\n            height: auto;\n            text-align: center;\n        }\n    `\n\n  const inline = css`\n        .code-inline {\n            background-color: ${palette('neutral')};\n            color: ${palette('background')};\n            border-radius: ${radius};\n            font-weight: 500;\n            font-family: ${manager.get(ThemeFont, 'code')};\n            padding: 0 3px;\n        }\n\n        .strong {\n            font-weight: 600;\n        }\n\n        .link,\n        a {\n            color: ${palette('secondary')};\n            cursor: pointer;\n            transition: all 0.4s ease-in-out;\n            font-weight: 500;\n            &:hover {\n                background-color: ${palette('line')};\n                box-shadow: 0 3px ${palette('line')}, 0 -3px ${palette('line')};\n            }\n        }\n\n        .strike-through {\n            text-decoration-color: ${palette('secondary')};\n        }\n    `\n\n  const footnote = css`\n        .footnote-definition {\n            ${manager.get(ThemeBorder, undefined)};\n            border-radius: ${manager.get(ThemeSize, 'radius')};\n            background-color: ${palette('background')};\n            padding: 16px;\n            display: flex;\n            flex-direction: row;\n            & > .footnote-definition_content {\n                flex: 1;\n                width: calc(100% - 16px);\n                & > dd {\n                    margin-inline-start: 16px;\n                }\n                & > dt {\n                    color: ${palette('secondary')};\n                    font-weight: 500;\n                }\n            }\n            & > .footnote-definition_anchor {\n                width: 16px;\n            }\n        }\n    `\n\n  const table = css`\n        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */\n        .tableWrapper {\n            overflow-x: auto;\n            margin: 0;\n            ${manager.get(ThemeScrollbar, ['x'])}\n            width: 100%;\n            * {\n                margin: 0;\n                box-sizing: border-box;\n                font-size: 16px;\n            }\n        }\n        table {\n            border-collapse: collapse;\n            table-layout: fixed;\n            width: 100%;\n            overflow: auto;\n            border-radius: ${manager.get(ThemeSize, 'radius')};\n        }\n        tr {\n            ${manager.get(ThemeBorder, 'bottom')};\n        }\n        td,\n        th {\n            padding: 0 16px;\n            vertical-align: top;\n            box-sizing: border-box;\n            position: relative;\n\n            min-width: 100px;\n            ${manager.get(ThemeBorder, undefined)};\n            text-align: left;\n            line-height: 3;\n            height: 48px;\n            vertical-align: middle;\n        }\n        th {\n            background: ${palette('background', 0.5)};\n            font-weight: 400;\n        }\n        .column-resize-handle {\n            position: absolute;\n            right: -2px;\n            top: 0;\n            bottom: 0;\n            z-index: 20;\n            pointer-events: none;\n            background: ${palette('secondary')};\n            width: ${manager.get(ThemeSize, 'lineWidth')};\n        }\n\n        .selectedCell {\n            &::after {\n                z-index: 2;\n                position: absolute;\n                content: '';\n                left: 0;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                background: ${palette('secondary', 0.38)};\n                pointer-events: none;\n            }\n\n            & ::selection {\n                background: transparent;\n            }\n        }\n    `\n\n  injectProsemirrorView(emotion)\n\n  injectGlobal`\n        .milkdown {\n            .material-icons-outlined {\n                font-size: 24px;\n            }\n\n            position: relative;\n            margin-left: auto;\n            margin-right: auto;\n            box-sizing: border-box;\n\n\n            color: ${neutral};\n            background: ${surface};\n            font-family: ${manager.get(ThemeFont, 'typography')};\n\n            ${manager.get(ThemeShadow, undefined)}\n            ${manager.get(ThemeScrollbar, undefined)}\n            ${selection};\n\n            .resize-cursor {\n                cursor: ew-resize;\n                cursor: col-resize;\n            }\n\n            .editor {\n                ${editorLayout};\n\n                ${paragraph};\n                ${blockquote};\n                ${hr};\n                ${list};\n                ${code};\n                ${img};\n                ${heading};\n\n                ${table};\n                ${footnote};\n\n                ${inline};\n            }\n        }\n    `\n}\n","/* Copyright 2021, Milkdown by Mirone. */\nimport type {\n  Emotion,\n  ThemeManager,\n} from '@milkdown/core'\nimport {\n  ThemeBorder,\n  ThemeColor,\n  ThemeFont,\n  ThemeGlobal,\n  ThemeIcon,\n  ThemeScrollbar,\n  ThemeShadow,\n  ThemeSize,\n  hex2rgb,\n  themeFactory,\n} from '@milkdown/core'\nimport { useAllPresetRenderer } from '@milkdown/theme-pack-helper'\n\nimport { code, typography } from './font'\nimport { getIcon } from './icon'\nimport { darkColor, lightColor } from './nord'\nimport { getStyle } from './style'\n\nexport const font = {\n  typography,\n  code,\n}\n\nexport const size = {\n  radius: '4px',\n  lineWidth: '1px',\n}\n\nexport const createTheme = (isDarkMode: boolean) => (emotion: Emotion, manager: ThemeManager) => {\n  const { css } = emotion\n  const colorSet = isDarkMode ? darkColor : lightColor\n\n  manager.set(ThemeColor, (options) => {\n    if (!options)\n      return\n    const [key, opacity] = options\n    const hex = colorSet[key]\n    const rgb = hex2rgb(hex)\n    if (!rgb)\n      return\n\n    return `rgba(${rgb?.join(', ')}, ${opacity || 1})`\n  })\n\n  manager.set(ThemeSize, (key) => {\n    if (!key)\n      return\n    return size[key]\n  })\n\n  manager.set(ThemeFont, (key) => {\n    if (!key)\n      return\n    return font[key].join(', ')\n  })\n\n  manager.set(ThemeScrollbar, ([direction = 'y', type = 'normal'] = ['y', 'normal'] as never) => {\n    const main = manager.get(ThemeColor, ['secondary', 0.38])\n    const bg = manager.get(ThemeColor, ['secondary', 0.12])\n    const hover = manager.get(ThemeColor, ['secondary'])\n\n    const scrollbar = css({\n      '&::-webkit-scrollbar': {\n        [direction === 'y' ? 'width' : 'height']: `${type === 'thin' ? 2 : 12}px`,\n        backgroundColor: 'transparent',\n      },\n    })\n\n    return css`\n            scrollbar-width: thin;\n            scrollbar-color: ${main} ${bg};\n            -webkit-overflow-scrolling: touch;\n\n            ${scrollbar};\n\n            &::-webkit-scrollbar-track {\n                border-radius: 999px;\n                background: transparent;\n                border: 4px solid transparent;\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 999px;\n                background-color: ${main};\n                border: ${type === 'thin' ? 0 : 4}px solid transparent;\n                background-clip: content-box;\n            }\n\n            &::-webkit-scrollbar-thumb:hover {\n                background-color: ${hover};\n            }\n        `\n  })\n\n  manager.set(ThemeShadow, () => {\n    const lineWidth = manager.get(ThemeSize, 'lineWidth')\n    const getShadow = (opacity: number) => manager.get(ThemeColor, ['shadow', opacity])\n    return css`\n            box-shadow: 0 ${lineWidth} ${lineWidth} ${getShadow(0.14)}, 0 2px ${lineWidth} ${getShadow(0.12)},\n                0 ${lineWidth} 3px ${getShadow(0.2)};\n        `\n  })\n\n  manager.set(ThemeBorder, (direction) => {\n    const lineWidth = manager.get(ThemeSize, 'lineWidth')\n    const line = manager.get(ThemeColor, ['line'])\n    if (!direction) {\n      return css`\n                border: ${lineWidth} solid ${line};\n            `\n    }\n    const upperCaseFirst = (str: string) => str.charAt(0).toUpperCase() + str.slice(1)\n    return css({\n      [`border${upperCaseFirst(direction)}`]: `${lineWidth} solid ${line}`,\n    })\n  })\n\n  manager.set(ThemeIcon, (icon) => {\n    if (!icon)\n      return\n\n    return getIcon(icon)\n  })\n\n  manager.set(ThemeGlobal, () => {\n    getStyle(manager, emotion)\n  })\n\n  useAllPresetRenderer(manager, emotion)\n}\n\nexport const getNord = (isDarkMode = false) =>\n  themeFactory((emotion, manager) => createTheme(isDarkMode)(emotion, manager))\n\nexport const nordDark = getNord(true)\nexport const nordLight = getNord(false)\n\nlet darkMode = false\nif (typeof window !== 'undefined')\n  darkMode = Boolean(window.matchMedia?.('(prefers-color-scheme: dark)').matches)\n\nexport const nord = getNord(darkMode)\n\nexport { color, darkColor, lightColor } from './nord'\n"],"names":["typography","code","iconMapping","getIcon","id","target","span","icon","Nord","lightColor","darkColor","color","getStyle","manager","emotion","injectGlobal","css","palette","getPalette","radius","ThemeSize","neutral","surface","line","highlight","selection","ThemeBorder","editorLayout","paragraph","blockquote","heading","hr","list","ThemeFont","ThemeScrollbar","img","inline","footnote","table","injectProsemirrorView","ThemeShadow","font","size","createTheme","isDarkMode","colorSet","ThemeColor","options","key","opacity","hex","rgb","hex2rgb","direction","type","main","bg","hover","scrollbar","lineWidth","getShadow","str","ThemeIcon","ThemeGlobal","useAllPresetRenderer","getNord","themeFactory","nordDark","nordLight","darkMode","_a","nord"],"mappings":"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"}